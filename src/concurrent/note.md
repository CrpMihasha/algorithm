# 虚假唤醒
## 定义
虚假唤醒指的是线程在没有接收到明确的通知（如notify()或notifyAll()）、中断或超时的情况下，从等待状态（wait()、await()等）中被唤醒。这种情况虽然不常见，但确实有可能发生，并且可能会导致程序逻辑出现错误。
## 产生原因
虚假唤醒主要和操作系统的线程调度机制有关。操作系统在调度线程时，可能会由于一些内部原因（如硬件中断、信号处理等）错误地唤醒处于等待状态的线程。Java 语言规范也提到，线程可以在没有被通知、中断或超时的情况下自行从wait()方法中返回，所以使用wait()方法时必须考虑到虚假唤醒的可能性。
## 如何避免
在调用Object类的wait()方法或Condition接口的await()方法时，不要用if语句检查等待条件，而要使用while循环。因为if语句只会检查一次条件，若发生虚假唤醒，线程会继续执行后续代码，可能导致程序逻辑出错；while循环则会在每次被唤醒后重新检查条件，若条件不满足，线程会再次进入等待状态。